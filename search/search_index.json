{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Fod","text":"<p>\ud83d\udc49 Vezi Documenta\u021bia FOD</p>"},{"location":"aplicatia/","title":"Introducere","text":"<p>\u00cen acest compartiment va fi descris procesul de creare a unei aplica\u021bii pentru un serviciu utiliz\u00e2nd componentele FOD.</p> <p>Acest articol poate fi folosit at\u00e2t ca ghid, c\u00e2t \u0219i ca documenta\u021bie pentru unele procese care au loc \u00een procesul de creare a unui serviciu digital.</p> <p>Pentru a \u00eencepe, este important s\u0103 \u00een\u021belegem c\u0103 unele componente FOD sunt construite din mai multe p\u0103r\u021bi logice care urmeaz\u0103 a fi configurate corespunz\u0103tor.</p> <p>Componentele FOD pot fi utilizate at\u00e2t \u00eentr-un proiect deja existent, c\u00e2t \u0219i \u00eentr-un proiect creat de la zero.</p>"},{"location":"aplicatia/#instrumente-necesare","title":"Instrumente necesare","text":"<p>Pentru acest ghid vor fi utilizate urm\u0103toarele instrumente:</p> <ul> <li>.NET SDK x64 Versiunea 7.0.10</li> <li>Visual Studio Code</li> </ul>"},{"location":"aplicatia/creare%20proiect%20frontoffice/","title":"Creare proiect FrontOffice","text":""},{"location":"aplicatia/creare%20proiect%20frontoffice/#crearea-proiectului-pentru-frontoffice","title":"Crearea proiectului pentru FrontOffice","text":"<p>\u00cen mapa creat\u0103 pentru solu\u021bie, vom crea un folder numit <code>src</code>, unde vom depozita codul surs\u0103 al proiectului. \u00cen interiorul acestuia, vom crea folderul <code>Frontoffice</code> \u0219i vom rula urm\u0103toarea comand\u0103:</p> <pre><code>dotnet new blazorwasm -ho\n</code></pre> <p>Aceasta va crea o solu\u021bie nou\u0103 format\u0103 din trei proiecte separate:</p> <ul> <li>Client</li> <li>Shared</li> <li>Server</li> </ul> <p>Deoarece am folosit flagul <code>-ho</code>, comanda va genera o solu\u021bie hosted, ceea ce \u00eenseamn\u0103 c\u0103 aplica\u021bia Front-End va fi servit\u0103 de c\u0103tre proiectul <code>Server</code>. Acesta trebuie s\u0103 fie proiectul pornit pentru a rula aplica\u021bia.</p>"},{"location":"aplicatia/creare%20proiect%20frontoffice/#pornirea-aplicatiei","title":"Pornirea aplica\u021biei","text":"<p>Pentru a porni aplica\u021bia, acceseaz\u0103 folderul <code>Server</code> folosind terminalul \u0219i ruleaz\u0103 comanda:</p> <pre><code>dotnet run\n</code></pre> <p>Aplica\u021bia va rula pe un port aleatoriu stabilit automat la momentul gener\u0103rii proiectului. Navig\u00e2nd \u00een browser la acel port, se va deschide interfa\u021ba aplica\u021biei FrontOffice.</p>"},{"location":"aplicatia/inregistrarea%20serviciilor%20client/","title":"\u00cenregistrarea serviciilor client","text":""},{"location":"aplicatia/inregistrarea%20serviciilor%20client/#servicii-fod-in-blazor-client","title":"Servicii FOD \u00een Blazor Client","text":"<p>Func\u021bionarea corect\u0103 a componentelor FOD \u00een aplica\u021bia <code>Client</code> depinde de implement\u0103rile serviciilor utilizate de aceste componente. Pentru a asigura acest lucru, este necesar\u0103 injectarea serviciilor prin ad\u0103ugarea urm\u0103torului r\u00e2nd de cod \u00een fi\u0219ierul <code>Program.cs</code> din proiectul <code>Client</code>:</p> <pre><code>builder.Services.AddFodComponents();\n</code></pre> <p>Aceast\u0103 metod\u0103 face parte din namespace-ul <code>Fod.Components</code>, motiv pentru care este necesar\u0103 \u0219i ad\u0103ugarea acestuia \u00een fi\u0219ierul <code>_Imports.razor</code>:</p> <pre><code>@using Fod.Components\n</code></pre> <p>Ad\u0103ugarea namespace-ului \u00een <code>_Imports.razor</code> permite utilizarea componentelor FOD \u00een orice fi\u0219ier <code>.razor</code> din proiect, f\u0103r\u0103 a mai fi nevoie de importuri suplimentare.</p>"},{"location":"aplicatia/instalare%20librarii%20fod/","title":"Instalarea libr\u0103riilor FOD","text":"<p>\u00cen structura unui proiect Blazor WebAssembly, au fost create mai multe libr\u0103rii FOD care trebuie utilizate \u00een proiectele corespunz\u0103toare:</p> <ul> <li> <p>Fod.Components   Con\u021bine toate componentele UI, stiluri \u0219i serviciile utilizate de c\u0103tre componente pentru dezvoltarea unui serviciu. Aceasta trebuie ad\u0103ugat\u0103 \u00een proiectul <code>Client</code>.</p> </li> <li> <p>Fod.Components.Shared   Con\u021bine modele \u0219i servicii comune care sunt utilizate at\u00e2t de aplica\u021bia <code>Client</code>, c\u00e2t \u0219i de aplica\u021bia <code>Server</code>. Aceasta trebuie ad\u0103ugat\u0103 \u00een proiectul <code>Shared</code>.</p> </li> <li> <p>Fod.Components.Server   Con\u021bine logica componentelor care trebuie rulat\u0103 pe partea de server. Aceasta trebuie ad\u0103ugat\u0103 \u00een proiectul <code>Server</code>.</p> </li> </ul>"},{"location":"aplicatia/instalare%20librarii%20fod/#acces-la-librarii","title":"Acces la libr\u0103rii","text":"<p>Pentru a ad\u0103uga aceste libr\u0103rii, este necesar accesul la repository-ul de libr\u0103rii al Agen\u021biei de Guvernare Electronic\u0103:</p> <p>\ud83d\udd17 FOD Feed Repository</p>"},{"location":"aplicatia/instalare%20librarii%20fod/#referinte-de-adaugat","title":"Referin\u021be de ad\u0103ugat","text":"<p>Adaug\u0103 urm\u0103toarele referin\u021be \u00een fi\u0219ierele <code>.csproj</code> corespunz\u0103toare:</p> <ul> <li><code>Fod.Components</code> \u00een <code>Client.csproj</code></li> <li><code>Fod.Components.Shared</code> \u00een <code>Shared.csproj</code></li> <li><code>Fod.Components.Server</code> \u00een <code>Server.csproj</code></li> </ul>"},{"location":"aplicatia/solution%20create/","title":"Crearea solu\u021biei","text":"<p>Pentru a avea cea mai mare compatibilitate cu componentele FOD, este recomandat s\u0103 se creeze o solu\u021bie nou\u0103.</p> <p>Pentru a crea o solu\u021bie nou\u0103, urmeaz\u0103 ace\u0219ti pa\u0219i:</p> <ul> <li>Creeaz\u0103 o map\u0103 nou\u0103.</li> <li>Deschide aceast\u0103 map\u0103 \u00een Visual Studio Code.</li> <li>Folose\u0219te consola integrat\u0103 pentru a crea solu\u021bia \u0219i proiectele necesare.</li> </ul> <p>\u2139\ufe0f Dezvoltatorul este liber s\u0103 utilizeze uneltele preferate pentru a parcurge ace\u0219ti pa\u0219i.</p>"},{"location":"aplicatia/utilizarea%20stilurilor%20fod/","title":"Utilizarea stilurilor FOD","text":""},{"location":"aplicatia/utilizarea%20stilurilor%20fod/#utilizarea-stilurilor-fod","title":"Utilizarea stilurilor FOD","text":"<p>Pentru a utiliza stilurile vizuale furnizate de FOD, este necesar s\u0103 adaugi urm\u0103toarele linii \u00een fi\u0219ierul <code>index.html</code> al aplica\u021biei <code>Client</code>:</p> <pre><code>&lt;link href=\"_content/FOD.Components/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\n&lt;link href=\"_content/FOD.Components/FodComponents.min.css\" rel=\"stylesheet\" /&gt;\n&lt;link href=\"_content/FOD.Components/css/font-awesome-icons.min.css\" rel=\"stylesheet\" /&gt;\n</code></pre> <p>De asemenea, pentru func\u021bionalit\u0103\u021bile JavaScript ale componentelor, trebuie s\u0103 adaugi urm\u0103toarea linie:</p> <pre><code>&lt;script src=\"_content/FOD.Components/FodComponents.min.js\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"configurare/","title":"Configurare Fod","text":"<p>Aceast\u0103 sec\u021biune acoper\u0103 pa\u0219ii necesari pentru configurarea sistemului FOD, inclusiv: - conectarea la baza de date - configurarea serviciilor externe - parametri de mediu</p>"},{"location":"servicii/ICurrentUserContextService/","title":"ICurrentUserContextService","text":""},{"location":"servicii/ICurrentUserContextService/#documentatie-pentru-icurrentusercontextservice","title":"Documenta\u021bie pentru <code>ICurrentUserContextService</code>","text":""},{"location":"servicii/ICurrentUserContextService/#descriere-generala","title":"Descriere general\u0103","text":"<p><code>ICurrentUserContextService</code> este un serviciu definit printr-o interfa\u021b\u0103 care gestioneaz\u0103 contextul curent al utilizatorului \u00eentr-o aplica\u021bie. Interfa\u021ba este implementat\u0103 at\u00e2t pe partea de client, c\u00e2t \u0219i pe partea de server, fiecare versiune av\u00e2nd un comportament specific:</p> <ul> <li>Client: folose\u0219te <code>HttpClient</code> pentru a interac\u021biona cu backend-ul REST.</li> <li>Server: folose\u0219te <code>HttpContext</code> \u0219i cookie-uri pentru a p\u0103stra contextul \u0219i <code>IUserContextService</code> pentru ob\u021binerea detaliilor.</li> </ul> <p>Aceast\u0103 separare permite utilizarea aceleia\u0219i interfe\u021be at\u00e2t \u00een aplica\u021bii Blazor WebAssembly, c\u00e2t \u0219i \u00een Blazor Server sau ASP.NET Core MVC.</p>"},{"location":"servicii/ICurrentUserContextService/#functionalitati-principale","title":"Func\u021bionalit\u0103\u021bi principale","text":"Metod\u0103 Return Type Descriere <code>Task Set(string contextId, bool selected = false)</code> <code>Task</code> Salveaz\u0103 contextul utilizatorului. Pe client, face POST c\u0103tre server; pe server, scrie \u00een cookie. <code>Task&lt;SelectedContext?&gt; GetSelectedContext()</code> <code>Task&lt;SelectedContext?&gt;</code> Returneaz\u0103 contextul selectat. Pe client \u00eel ia de la API, pe server din cookie sau genereaz\u0103 fallback. <code>Task&lt;UserContext?&gt; GetUserContext()</code> <code>Task&lt;UserContext?&gt;</code> Returneaz\u0103 contextul complet. Pe client \u00eel ia de la endpoint dedicat, pe server prin <code>IUserContextService</code>. <code>Task&lt;UserContext?&gt; GetIndividualUserContext()</code> <code>Task&lt;UserContext?&gt;</code> Pe server returneaz\u0103 contextul de tip individual; pe client poate fi neimplementat\u0103."},{"location":"servicii/ICurrentUserContextService/#implementare-implicita","title":"Implementare implicit\u0103","text":"<p>Este important de men\u021bionat c\u0103, at\u00e2t pe partea de client, c\u00e2t \u0219i pe partea de server, metoda <code>GetUserContext()</code> este utilizat\u0103 pentru a verifica \u0219i ob\u021bine contextul actual al utilizatorului autentificat.</p> <ul> <li>Client: interogheaz\u0103 endpoint-ul <code>/context/user-context</code> \u0219i returneaz\u0103 toate informa\u021biile relevante despre contextul curent.</li> <li>Server: folose\u0219te <code>GetSelectedContext()</code> \u0219i <code>IUserContextService</code> pentru a returna modelul complet <code>UserContext</code>.</li> </ul>"},{"location":"servicii/ICurrentUserContextService/#diferente-cheie-intre-metode","title":"Diferen\u021be cheie \u00eentre metode","text":"<ul> <li><code>GetSelectedContext()</code> returneaz\u0103 doar identificatorul (<code>ContextId</code>) \u0219i starea (<code>IsSelected</code>) a contextului selectat de utilizator.</li> <li><code>GetUserContext()</code> returneaz\u0103 un model complet de tip <code>UserContext</code>, care con\u021bine toate atributele asociate utilizatorului \u00een contextul respectiv (ex: nume, roluri, permisiuni etc.).</li> </ul>"},{"location":"servicii/ICurrentUserContextService/#detalii-implementare","title":"Detalii implementare","text":""},{"location":"servicii/ICurrentUserContextService/#client-blazor-webassembly","title":"Client (Blazor WebAssembly)","text":"<ul> <li>Utilizare principal\u0103 \u00een UI.</li> <li>Se bazeaz\u0103 pe apeluri HTTP:</li> <li><code>GET</code> pentru a ob\u021bine contextul (<code>/context</code>, <code>/context/user-context</code>)</li> <li><code>POST</code> pentru a seta contextul curent.</li> <li>Cache intern (<code>_selectedContext</code>) pentru optimizarea performan\u021belor.</li> </ul>"},{"location":"servicii/ICurrentUserContextService/#server-aspnet-core","title":"Server (ASP.NET Core)","text":"<ul> <li>Se bazeaz\u0103 pe cookie (<code>current-context</code>) pentru a re\u021bine contextul utilizatorului.</li> <li>Dac\u0103 nu exist\u0103 context valid, alege unul implicit din lista oferit\u0103 de <code>IUserContextService</code>.</li> <li>Suport\u0103 \u0219i context de tip individual prin <code>GetIndividualUserContext()</code>.</li> </ul>"},{"location":"servicii/ICurrentUserContextService/#exemplu-de-utilizare","title":"Exemplu de utilizare","text":"<p>` @inject ICurrentUserContextService UserContextService</p> <p>@code {     private SelectedContext? context;</p> <pre><code>protected override async Task OnInitializedAsync()\n{\n    context = await UserContextService.GetSelectedContext();\n}\n</code></pre> <p>} `</p>"}]}